{"version":3,"sources":["components/Nav.jsx","components/Index.jsx","components/registration/Registration.jsx","components/login/Login.jsx","App.js","index.js"],"names":["Nav","className","to","Index","props","useEffect","loggedInStatus","onClick","handleLogout","Registration","useState","email","password","passwordConfirmation","registrationErrors","state","setState","onSubmit","event","console","log","axios","post","withCredentials","then","res","setSuccessfulUser","data","history","push","catch","err","preventDefault","handleSubmit","type","name","placeholder","value","onChange","target","required","Login","loginErrors","JSON","stringify","alert","App","loggedIn","user","userData","get","path","exact","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"js/main.b77fd01f.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Nav() {\n\n  return (\n    <nav className='nav-main-container'>\n      <h3>Website Logo</h3>\n      <ul className=\"nav-links\">\n        <Link to='/'>\n          <li>Home</li>\n        </Link>\n        <Link to='/registration'>\n          <li>Registration</li>\n        </Link>\n        <Link to='/login'>\n          <li>Login</li>\n        </Link>\n      </ul>\n    </nav>\n  )\n\n}","import React from 'react';\nimport axios from 'axios';\nimport { useEffect } from 'react';\n\nexport default function Index(props) {\n\n  // console.log('indexProps', props);\n\n  useEffect(() => {\n\n  }, []);\n\n  return (\n    <div className='home-main-container'>\n      Home!\n      {props.loggedInStatus && (\n        <button className='logout-btn' onClick={() => props.handleLogout()}>Logout</button>\n      )}\n    </div>\n  )\n\n}","import React, { useState } from 'react';\nimport axios from 'axios';\n\nexport default function Registration(props) {\n\n  const [state, setState] = useState({\n    email: '',\n    password: '',\n    passwordConfirmation: '',\n    registrationErrors: ''\n  });\n\n  function handleSubmit(event) {\n    console.log('formState', state);\n\n    axios.post('/register', {\n      email: state.email,\n      password: state.password,\n    }, {\n      withCredentials: true\n    })\n      .then(res => {\n        console.log('reg response', res);\n        // set user in App\n        props.setSuccessfulUser(res.data[0]);\n        // redirect to Index\n        props.history.push('/');\n      })\n      .catch(err => {\n        console.log('reg error', err);\n      })\n\n    event.preventDefault();\n  }\n\n  return (\n    <div className='registration-main-container'>\n      <form onSubmit={(event) => handleSubmit(event)}>\n        <input\n          type=\"email\"\n          name='email'\n          placeholder=\"Email\"\n          value={state.email}\n          onChange={(event) => setState({ ...state, email: event.target.value })}\n          required\n        />\n        <input\n          type=\"password\"\n          name='password'\n          placeholder=\"Password\"\n          value={state.password}\n          onChange={(event) => setState({ ...state, password: event.target.value })}\n          required\n        />\n        <input\n          type=\"password\"\n          name='passwordConfirmation'\n          placeholder=\"Password confirmation\"\n          value={state.passwordConfirmation}\n          onChange={(event) => setState({ ...state, passwordConfirmation: event.target.value })}\n          required\n        />\n        <button type='submit'>Register</button>\n      </form>\n    </div>\n  )\n\n}","import React, { useState } from 'react';\nimport axios from 'axios';\n\nexport default function Login(props) {\n\n  const [state, setState] = useState({\n    email: '',\n    password: '',\n    loginErrors: ''\n  });\n\n  function handleSubmit(event) {\n    console.log('formState', state);\n\n    axios.post('/login', {\n      email: state.email,\n      password: state.password,\n    }, {\n      withCredentials: true\n    })\n      .then(res => {\n        console.log('login response', res);\n        // set user in App\n        if (JSON.stringify(res.data) === '{}') {\n          alert('incorrect login info!')\n          return;\n        }\n        props.setSuccessfulUser(res.data[0]);\n        // redirect to Index\n        props.history.push('/');\n      })\n      .catch(err => {\n        console.log('reg error', err);\n      })\n\n    event.preventDefault();\n  }\n\n  return (\n    <div className='registration-main-container'>\n      <form onSubmit={(event) => handleSubmit(event)}>\n        <input\n          type=\"email\"\n          name='email'\n          placeholder=\"Email\"\n          value={state.email}\n          onChange={(event) => setState({ ...state, email: event.target.value })}\n          required\n        />\n        <input\n          type=\"password\"\n          name='password'\n          placeholder=\"Password\"\n          value={state.password}\n          onChange={(event) => setState({ ...state, password: event.target.value })}\n          required\n        />\n        <button type='submit'>Login</button>\n      </form>\n    </div>\n  )\n\n}","import React, { useState, useEffect } from 'react';\nimport Nav from './components/Nav';\nimport Index from './components/Index';\nimport Registration from './components/registration/Registration';\nimport Login from './components/login/Login';\nimport axios from 'axios';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\n\nfunction App() {\n\n  const [state, setState] = useState({\n    loggedIn: false,\n    user: {}\n  })\n\n  useEffect(() => {\n    axios.get('/logged_in')\n      .then(res => {\n        console.log('loggedinRes', res);\n        if (JSON.stringify(res.data.userData) !== '{}') {\n          setState({ loggedInStatus: true, user: res.data })\n        }\n      })\n      .catch(err => {\n        console.log('logged in err', err);\n      })\n  }, []);\n\n  function setSuccessfulUser(userData) {\n    // console.log('set success user', userData);\n    setState({ ...state, loggedInStatus: true, user: userData })\n  }\n\n  function handleLogout() {\n    axios.get('/logout')\n      .then(res => {\n        console.log('logout res', res);\n        setState({ loggedIn: false, user: {} })\n      })\n      .catch(err => {\n        console.log('logout err', err);\n      })\n  }\n\n  return (\n    <Router>\n      <div className=\"app-main-container\">\n        <Nav />\n        <Switch>\n          <Route\n            path='/'\n            exact\n            render={props => (\n              <Index\n                {...props}\n                handleLogout={handleLogout}\n              />\n            )}\n          />\n          <Route\n            path='/registration'\n            exact\n            render={props => (\n              <Registration\n                {...props}\n                setSuccessfulUser={setSuccessfulUser}\n              />\n            )}\n          />\n          <Route\n            path='/login'\n            exact\n            render={props => (\n              <Login\n                {...props}\n                setSuccessfulUser={setSuccessfulUser}\n              />\n            )}\n          />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}